<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Repository Viewer</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f6f8fa;
            color: #24292e;
        }
        .container {
            max-width: 960px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        }
        header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        header h1 {
            font-size: 2em;
            margin-bottom: 0.5em;
        }
        header p {
            font-size: 1.1em;
            color: #586069;
        }
        header a {
            color: #0366d6;
            text-decoration: none;
        }
        header a:hover {
            text-decoration: underline;
        }
        .repo-info {
            margin-bottom: 20px;
        }
        .file-list h2 {
            font-size: 1.5em;
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 8px;
            margin-bottom: 16px;
        }
        .file-list ul {
            list-style-type: none;
            padding: 0;
        }
        .file-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f1f1f1;
        }
        .file-list li:last-child {
            border-bottom: none;
        }
        .file-list a {
            text-decoration: none;
            color: #0366d6;
            font-weight: 500;
        }
        .file-list a:hover {
            text-decoration: underline;
        }
        .file-content {
            margin-top: 30px;
            padding: 15px;
            background-color: #f1f1f1;
            border-radius: 6px;
            overflow-x: auto;
        }
        .file-content h3 {
            margin-top: 0;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            font-size: 0.9em;
            color: #586069;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><a href="{repo_link}" id="repo-name-link" target="_blank">{repo_name}</a></h1>
            <p id="repo-description">{repo_description}</p>
            <p><strong>GitHub Link:</strong> <a href="{repo_link}" id="repo-github-link" target="_blank">{repo_link}</a></p>
        </header>

        <section class="file-list">
            <h2>Repository Files</h2>
            <ul id="file-list-ul">
                <!-- File items will be dynamically inserted here by Python -->
                <!-- Example: <li><a href="#" data-filepath="path/to/file.py">path/to/file.py</a></li> -->
            </ul>
        </section>

        <section class="file-content" id="file-content-section" style="display:none;">
            <h3><span id="current-file-path"></span></h3>
            <pre><code id="code-display"></code></pre>
        </section>

        <footer>
            <p>Dynamically generated by a Python script. Updates periodically.</p>
        </footer>
    </div>

    <script>
        // Basic JavaScript to handle file clicks and display content
        // This will be expanded or replaced by the Python generation logic for static display,
        // or enhanced if we want client-side fetching for a more dynamic feel without page reloads.
        // For now, the Python script will generate the full HTML including content.
        // This script section might be more relevant if we were building a single-page app.
        // For now, the Python script will handle populating everything.

        // Placeholder for future client-side interactions if needed.
        // For instance, if we decide to load file content on click via JS:
        /*
        document.addEventListener('DOMContentLoaded', () => {
            const fileLinks = document.querySelectorAll('#file-list-ul a');
            const fileContentSection = document.getElementById('file-content-section');
            const codeDisplay = document.getElementById('code-display');
            const currentFilePathDisplay = document.getElementById('current-file-path');

            fileLinks.forEach(link => {
                link.addEventListener('click', async (event) => {
                    event.preventDefault();
                    const filePath = link.dataset.filepath;

                    // In a more advanced setup, this would fetch content.
                    // For now, we assume Python generates separate pages or embeds content directly.
                    // This is a conceptual placeholder.
                    // const response = await fetch(`/get-file-content?path=${encodeURIComponent(filePath)}`);
                    // const content = await response.text();

                    // currentFilePathDisplay.textContent = filePath;
                    // codeDisplay.textContent = "Loading content for " + filePath + "..."; // Replace with actual content
                    // fileContentSection.style.display = 'block';

                    alert("Displaying content for: " + filePath + "\\n(This is a placeholder; content display will be handled by Python generation)");
                });
            });
        });
        */
    </script>
</body>
</html>
